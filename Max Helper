-- [[ LOCAL SCRIPT: WithdrawMax (UPDATED - INPUT ONLY) ]]
-- Indicating what the script is for: Updates the AmountInput with the maximum available balance.
-- NOTE: This button now strictly performs UI updates and DOES NOT trigger a withdrawal.

print("‚úÖ Max Button Script Loaded (Input Only)")

local Players = game:GetService("Players")
local SoundService = game:GetService("SoundService")

local player = Players.LocalPlayer
local button = script.Parent
local mainWindow = button.Parent -- Assuming the button is inside the main frame

-- üìÇ UI REFERENCES
-- We look for the sibling input box named "AmountInput"
local AmountInput = mainWindow:WaitForChild("AmountInput", 5)

-- üîä SOUND CONFIG
local CLICK_SOUND_ID = "rbxassetid://9083627113" 

button.MouseButton1Click:Connect(function()
	print("üñ±Ô∏è MAX Button Clicked")

	-- 1. Get Current Balance
	local currentBank = 0
	if player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Cash") then
		currentBank = player.leaderstats.Cash.Value
	end

	-- 2. Play Click Sound (Aesthetic)
	local s = Instance.new("Sound")
	s.SoundId = CLICK_SOUND_ID
	s.Volume = 0.5
	s.Parent = SoundService
	s:Play()
	game.Debris:AddItem(s, 2)

	-- 3. Update Input Field ONLY
	if AmountInput then
		if currentBank > 0 then
			-- Use math.floor to ensure clean integer values
			AmountInput.Text = tostring(math.floor(currentBank))
			print("‚úÖ Input auto-filled with: " .. AmountInput.Text)
		else
			AmountInput.Text = "0"
		end
	else
		warn("‚ö†Ô∏è AmountInput not found in parent frame! Cannot auto-fill.")
	end
end)
