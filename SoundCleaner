-- [[ SERVER SCRIPT: SoundCleaner V2 (Active Protection) ]]
-- -- Indicating what the script is for: Actively monitors and deletes broken sounds.
-- This runs FOREVER to catch sounds that spawn when you equip cars.

local ServerStorage = game:GetService("ServerStorage")
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

print("üõ°Ô∏è SoundCleaner V2: Active Protection Enabled.")

-- üö´ List of Bad IDs to remove
local BAD_IDS = {
	["rbxassetid://0"] = true,        
	["http://www.roblox.com/asset/?id=0"] = true,
	["rbxassetid://188608071"] = true, 
	["rbxassetid://201887209"] = true, 
}

-- Function to check and destroy a single object
local function checkObject(obj)
	if obj:IsA("Sound") then
		-- Check if ID is bad, empty, or 0
		if BAD_IDS[obj.SoundId] or obj.SoundId == "0" or obj.SoundId == "" then
			-- Destroy silently to clear console
			obj:Destroy()
		end
	end
end

-- 1. Clean existing containers
local function cleanContainer(container)
	for _, desc in pairs(container:GetDescendants()) do
		checkObject(desc)
	end
end

cleanContainer(Workspace)
cleanContainer(ServerStorage)
cleanContainer(ReplicatedStorage)

-- 2. ACTIVE MONITORING (The New Feature)
-- This catches sounds the moment they are added to the game (e.g. equipping a car)
game.DescendantAdded:Connect(function(descendant)
	checkObject(descendant)
end)

print("‚ú® SoundCleaner V2: Watching for new spam...")
